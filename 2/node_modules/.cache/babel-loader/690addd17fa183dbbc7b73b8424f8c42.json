{"ast":null,"code":"window.onclose = function () {\n  localStorage.removeItem(\"history\");\n  return '';\n};\n\nfunction setHistoryUrl() {\n  let url = window.location.href;\n  let urlData = {};\n  let urlStore = [];\n\n  if (window.localStorage.getItem(\"history\")) {\n    let createdAt = (JSON.parse(window.localStorage.getItem(\"history\")).createdAt - Date.now()) / 3600000;\n\n    if (createdAt < 24) {\n      if (JSON.parse(window.localStorage.getItem(\"history\")).url) urlStore = JSON.parse(window.localStorage.getItem(\"history\")).url;\n      urlData.createdAt = JSON.parse(window.localStorage.getItem(\"history\")).createdAt;\n    } else {\n      deleteHistoryUrl();\n    }\n  } else {\n    urlData.createdAt = Date.now();\n  }\n\n  urlStore.push(url);\n  urlData.url = urlStore;\n  window.localStorage.setItem(\"history\", JSON.stringify(urlData));\n  return JSON.parse(window.localStorage.getItem(\"history\")).url;\n}\n\nfunction deleteHistoryUrl() {\n  return window.localStorage.removeItem(\"history\");\n}\n\nfunction getHistoryUrl() {\n  return JSON.parse(window.localStorage.getItem(\"history\")).url;\n}\n\nfunction getPathParam(url) {\n  let urlArray = url.split(\"/\");\n  let param = urlArray[1];\n  return param;\n}\n\nconst chunkImgUrlData = imgSrc => {\n  if (imgSrc.startsWith(\"data\")) {\n    let dataUrl = imgSrc;\n    console.log(dataUrl, dataUrl.length);\n    let chunkArray = [];\n    let chunkEnd = 100000;\n    let loopCount = dataUrl.length / chunkEnd;\n    console.log(chunkEnd);\n\n    for (let i = 0; i < loopCount; i++) {\n      const chunk = dataUrl.slice(i * chunkEnd, (i + 1) * chunkEnd);\n      chunkArray.push(chunk);\n    }\n\n    return chunkArray;\n  } else {\n    return false;\n  }\n};\n\nfunction getMinusTime(time) {\n  let seconds = Math.floor((new Date() - time) / 1000);\n  let hours = seconds / 3600;\n  return hours;\n}\n\nfunction resizeImage(base64Str, mime_type, quality = .7, maxWidth = 400, maxHeight = 350) {\n  return new Promise(resolve => {\n    let img = new Image();\n    img.src = base64Str;\n\n    img.onload = () => {\n      let canvas = document.createElement('canvas');\n      const MAX_WIDTH = maxWidth;\n      const MAX_HEIGHT = maxHeight;\n      let width = img.width;\n      let height = img.height;\n\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n\n      canvas.width = width;\n      canvas.height = height;\n      let ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0, width, height);\n      resolve(canvas.toDataURL(mime_type, quality));\n    };\n  });\n}\n\nfunction setCookie(cname, cvalue, exdays = \"\") {\n  var d = new Date();\n\n  if (exdays !== \"\") {\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    var expires = \"expires=\" + d.toUTCString();\n  } else {\n    var expires = \"expires\";\n  }\n\n  try {\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n  } catch (error) {\n    console.log('[-] ' + error);\n  }\n}\n\nfunction getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n\n  return null;\n}\n\nexport default {\n  setHistoryUrl,\n  getHistoryUrl,\n  setCookie,\n  getCookie,\n  getPathParam,\n  getMinusTime,\n  chunkImgUrlData,\n  resizeImage\n};","map":{"version":3,"sources":["C:/Users/s3q/Documents/GitHub/medical-encyclopedia/medical-encyclopedia-app/src/functions/Browser.js"],"names":["window","onclose","localStorage","removeItem","setHistoryUrl","url","location","href","urlData","urlStore","getItem","createdAt","JSON","parse","Date","now","deleteHistoryUrl","push","setItem","stringify","getHistoryUrl","getPathParam","urlArray","split","param","chunkImgUrlData","imgSrc","startsWith","dataUrl","console","log","length","chunkArray","chunkEnd","loopCount","i","chunk","slice","getMinusTime","time","seconds","Math","floor","hours","resizeImage","base64Str","mime_type","quality","maxWidth","maxHeight","Promise","resolve","img","Image","src","onload","canvas","document","createElement","MAX_WIDTH","MAX_HEIGHT","width","height","ctx","getContext","drawImage","toDataURL","setCookie","cname","cvalue","exdays","d","setTime","getTime","expires","toUTCString","cookie","error","getCookie","name","decodedCookie","decodeURIComponent","ca","c","charAt","substring","indexOf"],"mappings":"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","sourcesContent":["\r\nwindow.onclose = function () {\r\n    localStorage.removeItem(\"history\");\r\n    return '';\r\n};\r\n\r\nfunction setHistoryUrl() {\r\n    let url = window.location.href\r\n    let urlData = {}\r\n    let urlStore = []\r\n    if (window.localStorage.getItem(\"history\")) {\r\n        let createdAt = (JSON.parse(window.localStorage.getItem(\"history\")).createdAt - Date.now()) / 3600000\r\n        if (createdAt < 24) {\r\n            if (JSON.parse(window.localStorage.getItem(\"history\")).url)\r\n                urlStore = JSON.parse(window.localStorage.getItem(\"history\")).url\r\n                urlData.createdAt = JSON.parse(window.localStorage.getItem(\"history\")).createdAt\r\n        } else {\r\n            deleteHistoryUrl()\r\n        }\r\n\r\n    } else {\r\n        urlData.createdAt = Date.now()\r\n    }\r\n\r\n    urlStore.push(url)\r\n\r\n    urlData.url = urlStore\r\n\r\n    window.localStorage.setItem(\"history\", JSON.stringify(urlData))\r\n    return JSON.parse(window.localStorage.getItem(\"history\")).url\r\n}\r\n\r\nfunction deleteHistoryUrl() {\r\n    return window.localStorage.removeItem(\"history\")\r\n}\r\n\r\n\r\nfunction getHistoryUrl() {\r\n    return JSON.parse(window.localStorage.getItem(\"history\")).url\r\n}\r\n\r\nfunction getPathParam(url) {\r\n    let urlArray = url.split(\"/\")\r\n    let param = urlArray[1]\r\n    return param\r\n}\r\n\r\nconst chunkImgUrlData = (imgSrc) => {\r\n    if (imgSrc.startsWith(\"data\")) {\r\n\r\n        let dataUrl = imgSrc\r\n        console.log(dataUrl, dataUrl.length)\r\n\r\n        let chunkArray = []\r\n\r\n\r\n        let chunkEnd = 100000\r\n\r\n        let loopCount = (dataUrl.length / chunkEnd)\r\n\r\n        console.log(chunkEnd)\r\n\r\n        for (let i = 0; i < loopCount; i++) {\r\n            const chunk = dataUrl.slice((i * chunkEnd), ((i + 1) * chunkEnd));\r\n            chunkArray.push(chunk)\r\n        }\r\n\r\n        return chunkArray\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\n\r\nfunction getMinusTime(time) {\r\n    let seconds = Math.floor((new Date() - time) / 1000);\r\n    let hours = seconds / 3600\r\n    return hours\r\n}\r\n\r\nfunction resizeImage(base64Str, mime_type, quality = .7, maxWidth = 400, maxHeight = 350) {\r\n    return new Promise((resolve) => {\r\n        let img = new Image()\r\n        img.src = base64Str\r\n        img.onload = () => {\r\n            let canvas = document.createElement('canvas')\r\n            const MAX_WIDTH = maxWidth\r\n            const MAX_HEIGHT = maxHeight\r\n            let width = img.width\r\n            let height = img.height\r\n\r\n            if (width > height) {\r\n                if (width > MAX_WIDTH) {\r\n                    height *= MAX_WIDTH / width\r\n                    width = MAX_WIDTH\r\n                }\r\n            } else {\r\n                if (height > MAX_HEIGHT) {\r\n                    width *= MAX_HEIGHT / height\r\n                    height = MAX_HEIGHT\r\n                }\r\n            }\r\n            canvas.width = width\r\n            canvas.height = height\r\n            let ctx = canvas.getContext('2d')\r\n            ctx.drawImage(img, 0, 0, width, height)\r\n            resolve(canvas.toDataURL(mime_type, quality))\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction setCookie(cname, cvalue, exdays = \"\") {\r\n    var d = new Date();\r\n    if (exdays !== \"\") {\r\n        d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n        var expires = \"expires=\" + d.toUTCString();\r\n    } else {\r\n        var expires = \"expires\";\r\n    }\r\n    try {\r\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n    } catch (error) {\r\n        console.log('[-] ' + error);\r\n    }\r\n}\r\n\r\nfunction getCookie(cname) {\r\n    let name = cname + \"=\";\r\n    let decodedCookie = decodeURIComponent(document.cookie);\r\n    let ca = decodedCookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default {\r\n    setHistoryUrl,\r\n    getHistoryUrl,\r\n    setCookie,\r\n    getCookie,\r\n    getPathParam,\r\n    getMinusTime,\r\n    chunkImgUrlData,\r\n    resizeImage\r\n}\r\n"]},"metadata":{},"sourceType":"module"}